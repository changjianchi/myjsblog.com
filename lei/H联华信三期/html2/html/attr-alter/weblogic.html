<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport" >
    <!-- 新 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="../../css/libs/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/common/top_nav.css">
    <link rel="stylesheet" href="../../css/configuration_index.css">
    <link href="../../css/attr_alter.css" type="text/css" rel="stylesheet"/>
    <!--[if IE 9]>
        <link rel="stylesheet" type="text/css" href="../../css/common/ie9.css" />
    <![endif]-->

    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="../../js/libs/jquery.min.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="../../js/libs/bootstrap.min.js"></script>
    <script src="../../js/libs/echarts-all.min.js"></script>
    <script src="../../js/common/common.js"></script>
    <script src="../../js/configuration_index.js"></script>
    <script src="../../js/attr_alter.js"></script>
    <script src="../../js/lhg/lhgdialog.js"></script>

    <title>管理中心-配置步骤一</title>
    
</head>
<body>
<div class="wjSub-content">
    <div class="wjSub-cont-tit clearfix">
        <h3>Weblogic</h3>
        <a class="wjList-refresh" href="#">
            <img src="../../img/attr_alter/refresh-ico.png" width="20" height="20"/>
                        <span class="refres-tooltip">
                            <span class="toll-txt">获取当前实时信息</span>
                            <span class="angle-out"></span>
                            <span class="angle-in"></span>
                        </span>
        </a>
    </div>
    <div class="wjMap-wrap">
        <div class="wjmap-row clearfix">
            <div class="col-sm-6 wj-pl0">
                <div class="wjMap-box wjMap-txt-tit">
                    <div class="wjInst-tit">JVM最大使用内存</div>
                    <div class="wjInst-num"><span>618</span>G</div>
                    <canvas width="210" height="210" id="jvmMaxMemory" class="wj-circle-rate"></canvas>
                </div>
            </div>
            <div class="col-sm-6 wj-pl0">
                <div class="wjMap-box" id="routeInfo"></div>
            </div>
        </div>
        <div class="wjmap-row clearfix">
            <div class="col-sm-6 wj-pl0">
                <div class="wjMap-box" id="jvmUse"></div>
            </div>
            <div class="col-sm-6 wj-pl0">
                <div class="wjMap-box wjMap-txt-tit ">
                    <div class="wjInst-tit">J\P空闲内存</div>
                    <div class="wjInst-num"><span>920</span>G</div>
                    <canvas width="210" height="210" id="JPRemainMeM" class="wj-circle-rate"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script>
        //绘图
        //数据 百分比值
        var routeInfoData=[              //线路池信息
            [60,75,38,39,55],
            [30,55,88,19,45]
        ];

        var jvmUseData=[
            {value:45, name:'已使用'},
            {value:55, name:'未使用'}
        ];

        var jvmUseName=[];
        for (var i=0 ;i < jvmUseData.length; i++) {
            jvmUseName.push(jvmUseData[i].name);
        }

        //JVM最大内存
        drawRing(document.getElementById('jvmMaxMemory'),0.6);

        //J\P空闲内存
        drawRing(document.getElementById('JPRemainMeM'),0.9);

        //线路池信息
        var routeInfoChart=echarts.init(document.getElementById('routeInfo'));
        var routeInfoOption={
            title:{
                top:'13',
                left:'15',
                text:'线路池信息',
                textStyle:{
                    fontWeight:'normal',
                    fontSize:'14'
                }
            },
            xAxis : [
                {
                    show:true,
                    type : 'category',
                    data : ['Sample','Sample','Sample','Sample','Sample'],
                    splitLine:{
                        show:true
                    }
                }
            ],
            yAxis : [
                {
                    type : 'value',
                    splitArea:{
                        show:true,
                        areaStyle:{
                            color:['#fff','#f2f3f5']
                        }
                    },
                    min:0,
                    max:100
                }
            ],
            grid:{
                top:45,
                left:45,
                right:16,
                bottom:28
            },
            series:[
                {
                    type:'bar',
                    barWidth:19,
                    barGap:0,
                    data:routeInfoData[0]
                },
                {
                    type:'bar',
                    barWidth:19,
                    barGap:0,
                    data:routeInfoData[1]
                }
            ],
            color:['#3eadd8','#9a99ff'],
            tooltip:{
                show:true
            }
        };
        routeInfoChart.setOption(routeInfoOption);

        //jvm内存空间率
        var jvmUseChart=echarts.init(document.getElementById('jvmUse'));
        var jvmUseOption={
            title:{
                top:'13',
                left:'15',
                text:'JVM内存空间率',
                textStyle:{
                    fontWeight:'normal',
                    fontSize:'14'
                }
            },
            color:['#00bcd5','#1497cf'],
            series : [
                {
                    name: 'jvm内存空间率',
                    type: 'pie',
                    clockwise:false,
                    radius : '100',
                    center: ['50%', 158],
                    data:jvmUseData,
                    label:{
                        normal:{
                            position:'inside',
                            formatter: '{d}'+'%'
                        }
                    },

                }
            ],
            legend: {
                orient: 'vertical',
                top: 30,
                right:33,
                itemWidth:18,
                itemHeight:10,
                data: jvmUseName,
                itemGap:12,
                textStyle:{
                    fontSize:14
                },
                data:[
                    {
                        name:jvmUseName[0],
                        icon:'image://../../img/attr_alter/jvm_used_ico.png',
                        textStyle:{
                            color:'#00bcd5'
                        }
                    },
                    {
                        name:jvmUseName[1],
                        icon:'image://../../img/attr_alter/jvm_notuse_ico.png',
                        textStyle:{
                            color:'#1497cf'
                        }
                    }
                ]
            },
        };
        jvmUseChart.setOption(jvmUseOption);


        $(window).resize(function () {
            routeInfoChart.resize();
            jvmUseChart.resize();
        });

    </script>
</div>

<script>
    $(window).on('load', function () {
        autoHeight();
    });
</script>
</body>
</html>
